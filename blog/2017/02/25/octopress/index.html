
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <a href="Top"></a>
  <meta charset="utf-8">
  <title>Octopress, GitHub, and Custom Domains - Brandon Walsh</title>
  <meta name="author" content="Brandon Walsh">

  
  <meta name="description" content="I have been using GitHub to host my site as a .github.io domain for years now, but I decided to switch to something a bit easier to remember as way &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://walshbr.com/blog/2017/02/25/octopress/">
<!--   <link href="/favicon.png" rel="icon">
 -->  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Brandon Walsh" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37226549-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
	<div id="headtext">
	  <h1><a href="/">Brandon Walsh</a></h1>
	  
	</div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:walshbr.com" />
    <input class="search" id="searchform" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Archive</a></li>
  <li><a href="/cv/index.html">CV</a></li>
  <li><a href="/teaching">Courses</a></li>
  <li><a href="/research">Research</a></li>
  <li><a href="/digital-projects">Digital Projects</a></li>
</ul>
</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h2 class="entry-title">Octopress, GitHub, and Custom Domains</h2>
    
    
      <p class="meta">
        








  


<time datetime="2017-02-25T12:00:00-05:00" pubdate data-updated="true">Feb 25<span>th</span>, 2017</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I have been using GitHub to host my site as a .github.io domain for years now, but I decided to switch to something a bit easier to remember as way of consolidating a few pieces of my digital identity. I’m now up and running with <a href="https://reclaimhosting.com/">Reclaim Hosting</a>, and they have been fantastic in helping me to troubleshoot the issues. </p>

<p>I ran into a quirky issue with my setup, though, and I thought I’d document it in case someone else runs into this in the future. My old workflow looked like this:</p>

<p>1 Work locally
2 Push to GitHub for version control, issue tracking, and transparency
3 GitHub serves and hosts the site</p>

<p>So I’m just subbing out that last piece. Noramlly this involves two steps:</p>

<ul>
  <li>Visiting the settings page for your repository and giving it a custom domain.</li>
  <li>Following the instructions <a href="https://help.github.com/articles/quick-start-setting-up-a-custom-domain/">here</a> to have my own registered domain point to GitHub and vice versa. In the case of Reclaim Hosting, they had their own set of instructions for making things <a href="https://community.reclaimhosting.com/t/domain-mapping-to-github/270">work</a>.</li>
</ul>

<p>Reclaim helped me work out kinks, and now the workflow, as I understand it, should look like this:</p>

<p>1 Work locally
2 Push to GitHub for version control, issue tracking, and transparency
3 GitHub points to Reclaim, which grabs the content
4 Reclaim serves the content.</p>

<p>THe problem was in step four - the content kept disappearing from the Reclaim domain for reasons that took me a while to figure out. After a while, I realized that the problem was only manifesting later in the workflow but actually being caused earlier on.</p>

<p>When you change the custom domain settings for your repository, GitHub actually creates a file in the repository for you. When you give a GitHub repository a custom domain, it creates a <a href="https://github.com/walshbr/walshbr.github.io/blob/master/CNAME">CNAME file in the repository’s root</a>. This file contains the custom domain, so it’s pretty important. </p>

<p>That was the problem. My blog is built in <a href="http://octopress.org/">Octopress</a>, a souped up version of Jekyll. After working on content locally, Octopress has a rake command that pushes everything to GitHub for serving. Octopress appears to wipe out the content of the repository and rebuild the whole thing everytime. That new CNAME file? It was getting destroyed everytime I pushed new content to the site, so everytime I updated my site the domain would go down. </p>

<p>To get around this issue, I needed to make that CNAME file a more permanent part of the repository. I made a copy of the CNAME file locally and put it in the _source directory of local copy of the blog - this is the directory that Octopress generates the blog from, so now new builds of the site will contain the record of the custom domain. </p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Brandon Walsh</span></span>

      








  


<time datetime="2017-02-25T12:00:00-05:00" pubdate data-updated="true">Feb 25<span>th</span>, 2017</time>
      


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2016/12/12/ripper-dataset/" title="Previous Post: Ripper Press Reports Dataset">&laquo; Ripper Press Reports Dataset</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  <a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/80x15.png" /></a><br />This work is by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Brandon Walsh</span> unless otherwise noted and is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.en_US">Creative Commons Attribution 3.0 Unported License</a>.
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'bmw9t';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'https://walshbr.com/blog/2017/02/25/octopress/';
        var disqus_url = 'https://walshbr.com/blog/2017/02/25/octopress/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
